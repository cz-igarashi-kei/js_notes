<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>JSON</title>
</head>
<body>

<script>
'use strict';

var json = '{"x": 1, "y": 2, "val": "foobar"}';//JSON文字列の定義

var obj = JSON.parse(json);//JSONにjsonジャバスクリプトオブジェクトを返す。これをobjに代入
document.body.innerHTML += obj.x + '<br>';//objからxを取ってくる＝1

document.body.innerHTML += JSON.stringify(obj) + '<br>';//JSONに(今ジャバスクリプトオブジェクト)objをJSON文字列に変換したものを返す。これをプリント




var arr = JSON.parse("[4, 3, 5]");//JSON(今JSON文字列)を引数[4,3,5]でジャバスクリプトオブジェクトを返す。これをarrに代入

document.body.innerHTML += arr + '<br>';//arrをプリント
document.body.innerHTML += Array.isArray(arr) + '<br>';//arrはArrayか否かをチェック




var s = JSON.parse('"foo"');//sにジャバスクリプトを投げる（与える値はString "foo"）
document.body.innerHTML += (typeof s) + '<br>';//持ってるものの型がStringであることの確認

var n = JSON.parse('3');//nにジャバスクリプトを投げる(与える値はNumber '3')
document.body.innerHTML += (typeof n) + '<br>';//nの型がNumberであることの確認

try {
  JSON.parse("'foo'");//JSONではプロパティ名にシングルクオートを使うことができない
} catch (e) {
  document.body.innerHTML += e + '<br>';
}

try {
  JSON.parse("{x: 1}");//javascriptの場合と違い、JSONではプロパティ名は文字列でないといけない
} catch (e) {
  document.body.innerHTML += e + '<br>';
}
</script>

</body>
</html>
